<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>SMAP</title>
        <!-- Include Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png">
        <link rel="manifest" href="images/favicon/site.webmanifest">
        <!-- Include fonts -->
        <link href="https://fonts.googleapis.com/css?family=EB+Garamond:400,500,500i,700,700i|Quicksand:400,700&display=swap"
    		  rel="stylesheet">
        <!-- Include our stylesheets -->
        <link rel="stylesheet" href="stylesheets/style.css" />
        <link rel="stylesheet" href="stylesheets/themes/master-theme-sheet.css">
        <link rel="stylesheet" href="stylesheets/themes/light/orange-red-theme.css" class="theme" id="orange-red-theme">
        <link rel="alternate stylesheet" href="stylesheets/themes/light/green-blue-theme.css" class="theme" id="green-blue-theme">
        <link rel="alternate stylesheet" href="stylesheets/themes/light/pink-purple-theme.css" class="theme" id="pink-purple-theme">
        <link rel="alternate stylesheet" href="stylesheets/themes/dark/dark-red-theme.css" class="theme" id="dark-red-theme">
        <link rel="alternate stylesheet" href="stylesheets/themes/dark/dark-green-theme.css" class="theme" id="dark-green-theme">
        <link rel="alternate stylesheet" href="stylesheets/themes/dark/dark-blue-theme.css" class="theme" id="dark-blue-theme">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="javascripts/model.js" type="text/javascript"></script>
        <script src="javascripts/visuals.js" type="text/javascript"></script>
        <script src="javascripts/statewindow.js" type="text/javascript"></script>
    </head>
    <body class="unscrollable">
        <div class="alert-container">
            <div class="alert-body-and-close">
                <div class="alert-background">
                    <div id=state-window-container>
                        <div class=grid-item id=grid-item-state-name> State name</div>
                        <div class=grid-item id=grid-item-state-rank> state rank</div>
                        <div class=grid-item id=grid-item-state-display> picture of a state</div>
                        <div class=grid-item id=state-window-data-container>
                            <div class="grid-item" id=good-stats> good stats use unordered list here?</div>
                            <div class="grid-item" id=good-stats-details> good stats details</div>
                            <div class="grid-item" id=bad-stats> bad stats use unordered list here?</div>
                            <div class="grid-item" id=bad-stats-details> bad stats details</div>
                        </div>
                    </div>
                    <div class="alert-close">
                        Close
                    </div>
                    <script type="text/javascript">
                        $("document").ready(function() {
                            const blur_elements = [
                                $("#nav-bar"), $("#settings"), $("#map-container"), $("#about-container")
                            ];

                            function initialize_dummy() {
                                window.setTimeout(function() {
                                    $(".loading").toggleClass("hidden");
                                    $(".metadata-alert-element").toggleClass("hidden");
                                }, 4000);
                            }

                            initialize_dummy();

                            $(".alert-close").click(function() {
                                for (var element of blur_elements) {
                                    element.removeClass("blurred");
                                }
                                $("body").removeClass("unscrollable");
                                $(".alert-container").addClass("hidden");
                                $(".metadata-alert-element").addClass("hidden");
                                $(".loading").removeClass("hidden");
                            });

                            // THIS CODE DOES NOT WORK, EVENT LISTENER HAS TO BE ADDED WHEN THE
                            // ELEMENT IS CREATED FROM THE TEMPLATE

                            $(".statistic-option-metadata").click(function(e) {
                                e.preventDefault();
                                $("body").addClass("unscrollable");
                                $(".alert-container").removeClass("hidden");
                                for (var element of blur_elements) {
                                    element.addClass("blurred");
                                }
                            });

                            $(".statistic-slider-metadata").click(function(e) {
                                $("body").addClass("unscrollable");
                                $(".alert-container").removeClass("hidden");
                                for (var element of blur_elements) {
                                    element.addClass("blurred");
                                }
                            });
                        });
                    </script>
                </div>
            </div>
        </div>

		<div id="init">
            <div>
                <h1 id="loading">Loading assets</h1>
                <div id="ellipses">
                    <span id="dot1">&#8228;</span><span id="dot2">&#8228;</span><span id="dot3">&#8228;</span>
                </div>
            </div>
        </div>
        <!-- This div holds the app, which includes the settings sidebar, the map itself, as well as
             the nav bar. All the things in this div save the nav bar will be affected by scrolling
             more, hopefully giving a parallax effect, and allowing the nav bar to be both a part of
             the app and about section -->
        <div id="app-container">
            <!-- The nav that holds all of the settings on the left side of the app. See the ids for
                 each of the individual settings -->
            <div id="settings" class="blurred">
                <div id="statistics-sliders-header">
                    Statistic Settings:
                </div>
                <div id="statistics-sliders">
                    <!-- This is the template for each statistic slider container, the only thing
                         that is unique is encapsulated in square brackets [[[]]] -->
                    <!--
                    <div class="statistic-slider-container" id="[[[ Statistic ID ]]]">
                        <div class="statistic-slider-remover">&#215;</div>
                        <div class="statistic-slider-title">[[[ Statistic Name ]]]</div>
                        <input class="statistic-slider" type="range" min="1" max="5" value="3" />
                        <div class="statistic-slider-metadata">&#9432;</div>
                    </div>
                    -->
                    <!-- TODO: Remove the premade templates and populate using Javascript -->
					<div class="statistic-slider-container" id="active_slider_template">
                        <div class="statistic-slider-remover">&#215;</div>
                        <div class="statistic-slider-title">Template</div>
                        <input class="statistic-slider" type="range" min="1" max="5" value="3" />
                        <div class="statistic-slider-metadata">&#9432;</div>
                        <div class="statistic-slider-ticks">
							<p>1</p>
							<p>2</p>
							<p>3</p>
							<p>4</p>
							<p>5</p>
						</div>
                    </div>
                </div>

                <div id="statistics-selector-header">
                    Statistic Selection:
                </div>
                <!-- All of the other statistics that are not sliders -->
                <div id="statistics-selector">
                    <!-- This is the template for each statistic selector container, the only thing
                         that is unique is encapsulated in square brackets [[[]]] -->
                    <!--
                    <div class="statistic-option" id="[[[ Statistic ID ]]]">
                        <div class="add-statistic">+</div>
                        <div class="statistic-option-title">[[[ Statistic Title ]]]</div>
                        <div class="statistic-option-metadata">&#9432;</div>
                    </div>
                    -->
                    <!-- TODO: Remove the premade templates and populate using Javascript -->
					<div class="statistic-option" id="inactive_slider_template">
                        <div class="add-statistic">+</div>
                        <div class="statistic-option-title">Template</div>
                        <div class="statistic-option-metadata">&#9432;</div>
                    </div>
                </div>
            </div>
            <!-- The nav bar that allows the users to navigate between app and about section.
                 Currently does not function -->
            <div id="nav-bar" class="blurred">
                <div id="center-nav">
                    <img src="images/arrow.png" id="nav-arrow"/>
                </div>
                <div id="map-legend-container">
                    Worst <div id="map-legend" class="statistic-slider"> </div> Best
                </div>
				<div id="theme-selector-container">
                    <img src="images/theme_roller.png"  id="theme-selector"/>
                    <!-- Collection of themes -->
                    <div id="theme-container">
                        <div id="light">
                            <div class="theme-template" id="orange-red">
                                <div class="background" id="orange-red-background"></div>
                                <div class="accent" id="orange-red-accent"></div>
                                <div class="secondary" id="orange-red-secondary"></div>
                            </div>
                            <div class="theme-template" id="green-blue">
                                <div class="background" id="green-blue-background"></div>
                                <div class="accent" id="green-blue-accent"></div>
                                <div class="secondary" id="green-blue-secondary"></div>
                            </div>
                            <div class="theme-template" id="pink-purple">
                                <div class="background" id="pink-purple-background"></div>
                                <div class="accent" id="pink-purple-accent"></div>
                                <div class="secondary" id="pink-purple-secondary"></div>
                            </div>
                        </div>
                        <div id="dark">
                            <div class="theme-template" id="dark-red">
                                <div class="background" id="dark-red-background"></div>
                                <div class="accent" id="dark-red-accent"></div>
                                <div class="secondary" id="dark-red-secondary"></div>
                            </div>
                            <div class="theme-template" id="dark-green">
                                <div class="background" id="dark-green-background"></div>
                                <div class="accent" id="dark-green-accent"></div>
                                <div class="secondary" id="dark-green-secondary"></div>
                            </div>
                            <div class="theme-template" id="dark-blue">
                                <div class="background" id="dark-blue-background"></div>
                                <div class="accent" id="dark-blue-accent"></div>
                                <div class="secondary" id="dark-blue-secondary"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End theme-roller -->
            </div>
            <div id="map-container" class="blurred">
                <object type="image/svg+xml" data="images/us.svg" id="us-map"></object>
  			</div>
        </div>
        <div id="about-container" class="blurred">
            <div id="about-header">
                <h1>About SMAP</h1>
            </div>
            <div id="about-content">
              Every day, many Americans are conducting job searches, considering moving away from
              their home state for their next big opportunity or simply looking for a new place to
              visit. While options already exist for visualizing individual data sets about state
              demographics and livability, people are rarely interested in only one factor.
              State Map Analysis Program (SMAP) allows users to visualize data from a combination
              of preloaded datasets simultaneously.
              <br /><br /><br />
              The program allows its users to select which factors matter most to them from our bank
              of statistics. Users can also choose how important a dataset is to them; highly ranked
              datasets contribute more to the state-by-state average than lower ranked ones. Then,
              every state is scored against the states with the highest and lowest statistics.
              States are then colored according to their score, with higher opacity corresponding to
              scores closer to the highest score. With SMAP, users no longer need to have multiple
              files of data open at once to create their own assessments; comprehensive state
              analysis is at their fingertips! 
            </div>
            <div id="bottom-bar">
                <h2>Share us on social media!</h2>
                <img src="images/socials/facebook.png" alt="Share on Facebook!" id="site-facebook" class="bottom-social" />
                <img src="images/socials/twitter.png" alt="Give us a Tweet!" id="site-twitter" class="bottom-social" />
                <img src="images/socials/instagram.png" alt="Share on Instagram!" id="site-instagram" class="bottom-social" />
                <img src="images/socials/reddit.png" alt="Post us on Reddit!" id="site-reddit" class="bottom-social" />
                <img src="images/socials/pinterest.png" alt="Pin us on Pinterest!" id="site-pinterest" class="bottom-social" />
                <img src="images/socials/tumblr.png" alt="Share us on Tumblr!" id="site-tumblr" class="bottom-social" />
                <br><br><br><br>
            </div>
        </div>
    </body>
</html>
